manifest {
    description = 'Runs a Comet search followed by TPP analysis'
    author = 'Patrick Pedrioli'
}

params {

    help = false
    mzxml_folder = 'Results/Mzxml/*.mzXML'
    comet_params = 'Params/comet.params'
    protein_db = 'Results/Databases/proteome.fasta'
    tpp_opt = "-OAPdplIw -PPM"
    decoy = "DECOY_"
    no_pool = false
}

process{
    withName:cometSearch {
	container = 'digitalproteomes/comet'
    }
    withName:pooledTpp {
	container = 'digitalproteomes/tpp-dev'
    }
    withName:splitTpp {
	container = 'digitalproteomes/tpp-dev'
    }
    withName:mayu {
	container = 'digitalproteomes/tpp-dev'
    }
    withName:tppStat {
	container = 'digitalproteomes/tpp-dev'
    }
}

docker {
    enabled = true
    sudo = true
    runOptions = '-e LOCAL_USER_ID=$(id -u)'
}
